<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Flappy Hands</title>
    <link rel="stylesheet" href="style.css">
    <!-- MediaPipe Dependencies -->
    <script src="./lib/camera_utils.js" crossorigin="anonymous"></script>
    <script src="./lib/control_utils.js" crossorigin="anonymous"></script>
    <script src="./lib/drawing_utils.js" crossorigin="anonymous"></script>
    <script src="./lib/hands.js" crossorigin="anonymous"></script>
</head>

<body>
    <div class="container">
        <div class="game-wrapper">
            <canvas id="gameCanvas"></canvas>
            <div id="ui-layer">
                <button id="mute-btn" class="icon-btn">ğŸ”Š</button>
                <div id="start-screen" class="screen active">
                    <h1>Flappy Hands</h1>
                    <div class="score-board">
                        <p>Weekly Best: <span id="start-weekly-best">0</span></p>
                        <p>Last Score: <span id="start-last-score">0</span></p>
                    </div>
                    <p>Pinch thumb & index to Start & Jump!</p>
                    <button id="start-btn">Start Game</button>
                    <!-- ç§»åŠ¨ç«¯æ˜¾ç¤ºçš„ç®€æ˜“æç¤º -->
                    <p class="mobile-hint">ğŸ¤ æåˆæ‰‹æŒ‡è·³è·ƒ</p>
                </div>
                <div id="game-over-screen" class="screen">
                    <h1>Game Over</h1>
                    <p>Score: <span id="final-score">0</span></p>
                    <p id="new-record-msg" class="hidden">ğŸ† NEW WEEKLY RECORD! ğŸ†</p>
                    <div class="score-board-small">
                        <p>Weekly Best: <span id="end-weekly-best">0</span></p>
                    </div>
                    <button id="restart-btn">Try Again</button>
                </div>
                <div id="score-container">
                    <div id="score-display">0</div>
                    <div id="weekly-best-display">Best: <span id="hud-weekly-best">0</span></div>
                </div>
            </div>
        </div>

        <div class="right-panel">
            <div class="camera-wrapper">
                <video id="input_video" class="input_video"></video>
                <canvas id="output_canvas" class="output_canvas"></canvas>
                <div class="status">Status: <span id="status-text">Initializing...</span></div>
            </div>

            <div class="instructions">
                <h3>ğŸ® æ¸¸æˆæ§åˆ¶</h3>
                <div class="instruction-item">
                    <span class="gesture-icon">ğŸ¤</span>
                    <div class="instruction-text">
                        <strong>æåˆ</strong>
                        <p>æ‹‡æŒ‡å’Œé£ŸæŒ‡æåœ¨ä¸€èµ· â†’ è·³è·ƒ/å¼€å§‹</p>
                    </div>
                </div>
                <div class="instruction-item">
                    <span class="gesture-icon">ğŸ‘†</span>
                    <div class="instruction-text">
                        <strong>é£ŸæŒ‡å‘ä¸Š</strong>
                        <p>é£ŸæŒ‡ä¼¸ç›´ï¼Œå…¶ä»–å››æŒ‡æ¡æ‹³ â†’ æ»‘ç¿”</p>
                    </div>
                </div>
                <div class="tip">
                    ğŸ’¡ æç¤ºï¼šå…‰çº¿å……è¶³æ—¶è¯†åˆ«æ›´å‡†ç¡®
                </div>
            </div>
        </div>
    </div>

    <script src="game.js"></script>
    <script src="hand_tracking.js"></script>
</body>

</html>